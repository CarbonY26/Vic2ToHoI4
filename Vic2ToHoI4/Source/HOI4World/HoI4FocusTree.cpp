/*Copyright (c) 2016 The Paradox Game Converters Project

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.*/



#include "HoI4FocusTree.h"
#include "HoI4Country.h"
#include "../Configuration.h"
#include "Log.h"
#include <fstream>
using namespace std;



HoI4FocusTree::HoI4FocusTree(HoI4Country* CreatingCountry)
{
	srcCountryTag = CreatingCountry->getSourceCountry()->getTag();

	//DOES NOT INCLUDE LAST BRACKET!
	text += "focus_tree = { \n";
	text += "	id = german_focus\n";
	text += "	\n";
	text += "	country = {\n";
	text += "		factor = 0\n";
	text += "		\n";
	text += "		modifier = {\n";
	text += "			add = 10\n";
	text += "			tag = " + CreatingCountry->getTag() + "\n";
	text += "		}\n";
	text += "	}\n";
	text += "	\n";
	text += "	default = no\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = army_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_allies_build_infantry\n";
	text += "		x = 1\n";
	text += "		y = 0\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			army_experience = 5\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = land_doc_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = land_doctrine\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = equipment_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_small_arms\n";
	text += "		prerequisite = { focus = army_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 0\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = infantry_weapons_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = infantry_weapons\n";
	text += "				category = artillery\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = motorization_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_army_motorized\n";
	text += "		prerequisite = { focus = army_effort" + CreatingCountry->getTag() + " }\n";
	text += "		bypass = { has_tech = motorised_infantry }\n";
	text += "		x = 2\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = motorized_bonus\n";
	text += "				bonus = 0.75\n";
	text += "				technology = motorised_infantry\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = doctrine_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_army_doctrines\n";
	text += "		prerequisite = { focus = army_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 1\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			army_experience = 5\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = land_doc_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = land_doctrine\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = equipment_effort_2" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_army_artillery\n";
	text += "		prerequisite = { focus = equipment_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 0\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = infantry_artillery_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = infantry_weapons\n";
	text += "				category = artillery\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = mechanization_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_build_tank\n";
	text += "		prerequisite = { focus = motorization_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 2\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = motorized_bonus\n";
	text += "				ahead_reduction = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = motorized_equipment\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = doctrine_effort_2" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_army_doctrines\n";
	text += "		prerequisite = { focus = doctrine_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 1\n";
	text += "		y = 4\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			army_experience = 5\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = land_doc_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = land_doctrine\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = equipment_effort_3" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_army_artillery2\n";
	text += "		prerequisite = { focus = equipment_effort_2" + CreatingCountry->getTag() + " }\n";
	text += "		x = 0\n";
	text += "		y = 5\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = infantry_artillery_bonus\n";
	text += "				ahead_reduction = 1\n";
	text += "				uses = 1\n";
	text += "				category = infantry_weapons\n";
	text += "				category = artillery\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = armor_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_army_tanks\n";
	text += "		prerequisite = { focus = mechanization_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 2\n";
	text += "		y = 5\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = armor_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 2\n";
	text += "				category = armor\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = special_forces" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_special_forces\n";
	text += "		prerequisite = { focus = equipment_effort_3" + CreatingCountry->getTag() + " }\n";
	text += "		prerequisite = { focus = doctrine_effort_2" + CreatingCountry->getTag() + " }\n";
	text += "		prerequisite = { focus = armor_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 1\n";
	text += "		y = 6\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = special_forces_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				technology = paratroopers\n";
	text += "				technology = paratroopers2\n";
	text += "				technology = marines\n";
	text += "				technology = marines2\n";
	text += "				technology = tech_mountaineers\n";
	text += "				technology = tech_mountaineers2\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = aviation_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_build_airforce\n";
	text += "		x = 5\n";
	text += "		y = 0\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			air_experience = 25\n";
	text += "			if = { limit = { has_country_flag = aviation_effort_AB }\n";
	text += "				add_building_construction = {\n";
	text += "					type = air_base\n";
	text += "					level = 2\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}			\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = air_doc_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = air_doctrine\n";
	text += "			}			\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			air_experience = 25\n";
	text += "\n";
	text += "			if = {\n";
	text += "				limit = {\n";
	text += "					capital_scope = {\n";
	text += "						NOT = {\n";
	text += "							free_building_slots = {\n";
	text += "								building = air_base\n";
	text += "								size > 1\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				random_owned_state = {\n";
	text += "					limit = {\n";
	text += "						free_building_slots = {\n";
	text += "							building = air_base\n";
	text += "							size > 1\n";
	text += "						}\n";
	text += "					}\n";
	text += "					add_building_construction = {\n";
	text += "						type = air_base\n";
	text += "						level = 2\n";
	text += "						instant_build = yes\n";
	text += "					}\n";
	text += "					ROOT = { set_country_flag = aviation_effort_AB }\n";
	text += "				}\n";
	text += "			}\n";
	text += "			if = {\n";
	text += "				limit = {\n";
	text += "					capital_scope = {\n";
	text += "						free_building_slots = {\n";
	text += "							building = air_base\n";
	text += "							size > 1\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				capital_scope = {\n";
	text += "					add_building_construction = {\n";
	text += "						type = air_base\n";
	text += "						level = 2\n";
	text += "						instant_build = yes\n";
	text += "					}\n";
	text += "					ROOT = { set_country_flag = aviation_effort_AB }\n";
	text += "				}\n";
	text += "			}\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = air_doc_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = air_doctrine\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = fighter_focus" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_air_fighter\n";
	text += "		prerequisite = { focus = aviation_effort" + CreatingCountry->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = bomber_focus" + CreatingCountry->getTag() + " }\n";
	text += "		x = 4\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = fighter_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 2\n";
	text += "				technology = early_fighter\n";
	text += "				technology = fighter1\n";
	text += "				technology = fighter2\n";
	text += "				technology = fighter3\n";
	text += "				technology = heavy_fighter1\n";
	text += "				technology = heavy_fighter2\n";
	text += "				technology = heavy_fighter3\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = bomber_focus" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_air_bomber\n";
	text += "		prerequisite = { focus = aviation_effort" + CreatingCountry->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = fighter_focus" + CreatingCountry->getTag() + " }\n";
	text += "		x = 6\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = bomber_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 2\n";
	text += "				technology = strategic_bomber1\n";
	text += "				technology = strategic_bomber2\n";
	text += "				technology = strategic_bomber3\n";
	text += "				category = tactical_bomber\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = aviation_effort_2" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_air_doctrine\n";
	text += "		prerequisite = { focus = bomber_focus focus = fighter_focus" + CreatingCountry->getTag() + " }\n";
	text += "		x = 5\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			air_experience = 25\n";
	text += "			if = { limit = { has_country_flag = aviation_effort_2_AB }\n";
	text += "				add_building_construction = {\n";
	text += "					type = air_base\n";
	text += "					level = 2\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "			add_tech_bonus = {\n";
	text += "				name =  air_doc_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = air_doctrine\n";
	text += "			}\n";
	text += "		}\n";
	text += "		completion_reward = {\n";
	text += "			air_experience = 25\n";
	text += "			if = {\n";
	text += "				limit = {\n";
	text += "					capital_scope = {\n";
	text += "						NOT = {\n";
	text += "							free_building_slots = {\n";
	text += "								building = air_base\n";
	text += "								size > 1\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				random_owned_state = {\n";
	text += "					limit = {\n";
	text += "						free_building_slots = {\n";
	text += "							building = air_base\n";
	text += "							size > 1\n";
	text += "						}\n";
	text += "					}\n";
	text += "					add_building_construction = {\n";
	text += "						type = air_base\n";
	text += "						level = 2\n";
	text += "						instant_build = yes\n";
	text += "					}\n";
	text += "					ROOT = { set_country_flag = aviation_effort_2_AB }\n";
	text += "				}\n";
	text += "			}\n";
	text += "			if = {\n";
	text += "				limit = {\n";
	text += "					capital_scope = {\n";
	text += "						free_building_slots = {\n";
	text += "							building = air_base\n";
	text += "							size > 1\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				capital_scope = {\n";
	text += "					add_building_construction = {\n";
	text += "						type = air_base\n";
	text += "						level = 2\n";
	text += "						instant_build = yes\n";
	text += "					}				\n";
	text += "					ROOT = { set_country_flag = aviation_effort_2_AB }\n";
	text += "				}\n";
	text += "			}\n";
	text += "			add_tech_bonus = {\n";
	text += "				name =  air_doc_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = air_doctrine\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = CAS_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_CAS\n";
	text += "		prerequisite = { focus = aviation_effort_2" + CreatingCountry->getTag() + " }\n";
	text += "		prerequisite = { focus = motorization_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 4\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = CAS_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				ahead_reduction = 1\n";
	text += "				uses = 1\n";
	text += "				category = cas_bomber\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = rocket_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_focus_rocketry\n";
	text += "		prerequisite = { focus = aviation_effort_2" + CreatingCountry->getTag() + " }\n";
	text += "		prerequisite = { focus = infrastructure_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 5\n";
	text += "		y = 4\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = jet_rocket_bonus\n";
	text += "				ahead_reduction = 0.5\n";
	text += "				uses = 2\n";
	text += "				category = rocketry\n";
	text += "				category = jet_technology\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 1\n";
	text += "			modifier = {\n";
	text += "				factor = 0.25\n";
	text += "				always = yes\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = NAV_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_air_naval_bomber\n";
	text += "		prerequisite = { focus = aviation_effort_2" + CreatingCountry->getTag() + " }\n";
	text += "		prerequisite = { focus = flexible_navy" + CreatingCountry->getTag() + " }\n";
	text += "		x = 6\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = nav_bomber_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				ahead_reduction = 1\n";
	text += "				uses = 1\n";
	text += "				category = naval_bomber\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = naval_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_naval_dockyard\n";
	text += "		x = 9\n";
	text += "		y = 0\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		available = {\n";
	text += "			any_state = {\n";
	text += "				is_coastal = yes\n";
	text += "				is_controlled_by = ROOT\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			navy_experience = 25\n";
	text += "			add_extra_state_shared_building_slots = 3\n";
	text += "			add_building_construction = {\n";
	text += "				type = dockyard\n";
	text += "				level = 3\n";
	text += "				instant_build = yes\n";
	text += "			}\n";
	text += "		}\n";
	text += "		\n";
	text += "		completion_reward = {\n";
	text += "			navy_experience = 25\n";
	text += "			if = {\n";
	text += "				limit = {\n";
	text += "					NOT = {\n";
	text += "						any_owned_state = {\n";
	text += "							dockyard > 0\n";
	text += "							free_building_slots = {\n";
	text += "								building = dockyard\n";
	text += "								size > 2\n";
	text += "								include_locked = yes\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "					any_owned_state = {\n";
	text += "						is_coastal = yes\n";
	text += "					}\n";
	text += "				}\n";
	text += "				random_owned_state = {\n";
	text += "					limit = {\n";
	text += "						is_coastal = yes\n";
	text += "						free_building_slots = {\n";
	text += "							building = dockyard\n";
	text += "							size > 2\n";
	text += "							include_locked = yes\n";
	text += "						}\n";
	text += "					}\n";
	text += "					add_extra_state_shared_building_slots = 3\n";
	text += "					add_building_construction = {\n";
	text += "						type = dockyard\n";
	text += "						level = 3\n";
	text += "						instant_build = yes\n";
	text += "					}\n";
	text += "				}\n";
	text += "				set_country_flag = naval_effort_built\n";
	text += "			}\n";
	text += "			if = {\n";
	text += "				limit = {\n";
	text += "					NOT = { has_country_flag = naval_effort_built }\n";
	text += "					any_owned_state = {\n";
	text += "						dockyard > 0\n";
	text += "						free_building_slots = {\n";
	text += "							building = dockyard\n";
	text += "							size > 2\n";
	text += "							include_locked = yes\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				random_owned_state = {\n";
	text += "					limit = {\n";
	text += "						dockyard > 0\n";
	text += "						free_building_slots = {\n";
	text += "							building = dockyard\n";
	text += "							size > 2\n";
	text += "							include_locked = yes\n";
	text += "						}\n";
	text += "					}\n";
	text += "					add_extra_state_shared_building_slots = 3\n";
	text += "					add_building_construction = {\n";
	text += "						type = dockyard\n";
	text += "						level = 3\n";
	text += "						instant_build = yes\n";
	text += "					}\n";
	text += "				}\n";
	text += "				set_country_flag = naval_effort_built\n";
	text += "			}\n";
	text += "			if = {\n";
	text += "				limit = {\n";
	text += "					NOT = { has_country_flag = naval_effort_built }\n";
	text += "					NOT = {\n";
	text += "						any_owned_state = {\n";
	text += "							free_building_slots = {\n";
	text += "								building = dockyard\n";
	text += "								size > 2\n";
	text += "								include_locked = yes\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				random_state = {\n";
	text += "					limit = {\n";
	text += "						controller = { tag = ROOT }\n";
	text += "						free_building_slots = {\n";
	text += "							building = dockyard\n";
	text += "							size > 2\n";
	text += "							include_locked = yes\n";
	text += "						}\n";
	text += "					}\n";
	text += "					add_extra_state_shared_building_slots = 3\n";
	text += "					add_building_construction = {\n";
	text += "						type = dockyard\n";
	text += "						level = 3\n";
	text += "						instant_build = yes\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}			\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = flexible_navy" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_build_navy\n";
	text += "		prerequisite = { focus = naval_effort" + CreatingCountry->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = large_navy" + CreatingCountry->getTag() + " }\n";
	text += "		x = 8\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 1\n";
	text += "			modifier = {\n";
	text += "				factor = 0\n";
	text += "				all_owned_state = {\n";
	text += "					OR = {\n";
	text += "						is_coastal = no\n";
	text += "						dockyard < 1\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = sub_op_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 2\n";
	text += "				technology = convoy_interdiction_ti\n";
	text += "				technology = unrestricted_submarine_warfare\n";
	text += "				technology = wolfpacks\n";
	text += "				technology = advanced_submarine_warfare\n";
	text += "				technology = combined_operations_raiding\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = large_navy" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_navy_doctrines_tactics\n";
	text += "		prerequisite = { focus = naval_effort" + CreatingCountry->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = flexible_navy" + CreatingCountry->getTag() + " }\n";
	text += "		x = 10\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 1\n";
	text += "			modifier = {\n";
	text += "				factor = 0\n";
	text += "				all_owned_state = {\n";
	text += "					OR = {\n";
	text += "						is_coastal = no\n";
	text += "						dockyard < 1\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = fleet_in_being_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 2\n";
	text += "				category = fleet_in_being_tree\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = submarine_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_navy_submarine\n";
	text += "		prerequisite = { focus = flexible_navy focus = large_navy" + CreatingCountry->getTag() + " }\n";
	text += "		x = 8\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 1\n";
	text += "			modifier = {\n";
	text += "				factor = 0\n";
	text += "				all_owned_state = {\n";
	text += "					OR = {\n";
	text += "						is_coastal = no\n";
	text += "						dockyard < 1\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = ss_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				ahead_reduction = 1\n";
	text += "				uses = 1\n";
	text += "				technology = early_submarine\n";
	text += "				technology = basic_submarine\n";
	text += "				technology = improved_submarine\n";
	text += "				technology = advanced_submarine\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = cruiser_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_navy_cruiser\n";
	text += "		prerequisite = { focus = large_navy focus = flexible_navy" + CreatingCountry->getTag() + " }\n";
	text += "		x = 10\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 1\n";
	text += "			modifier = {\n";
	text += "				factor = 0\n";
	text += "				all_owned_state = {\n";
	text += "					OR = {\n";
	text += "						is_coastal = no\n";
	text += "						dockyard < 1\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = cr_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				ahead_reduction = 1\n";
	text += "				uses = 1\n";
	text += "				technology = improved_light_cruiser\n";
	text += "				technology = advanced_light_cruiser\n";
	text += "				technology = improved_heavy_cruiser\n";
	text += "				technology = advanced_heavy_cruiser\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = destroyer_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_wolf_pack\n";
	text += "		prerequisite = { focus = submarine_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 8\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 1\n";
	text += "			modifier = {\n";
	text += "				factor = 0\n";
	text += "				all_owned_state = {\n";
	text += "					OR = {\n";
	text += "						is_coastal = no\n";
	text += "						dockyard < 1\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = dd_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				ahead_reduction = 1\n";
	text += "				uses = 1\n";
	text += "				technology = early_destroyer\n";
	text += "				technology = basic_destroyer\n";
	text += "				technology = improved_destroyer\n";
	text += "				technology = advanced_destroyer\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = capital_ships_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_navy_battleship\n";
	text += "		prerequisite = { focus = cruiser_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 10\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 1\n";
	text += "			modifier = {\n";
	text += "				factor = 0\n";
	text += "				all_owned_state = {\n";
	text += "					OR = {\n";
	text += "						is_coastal = no\n";
	text += "						dockyard < 1\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			navy_experience = 25\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = capital_ships_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				ahead_reduction = 1\n";
	text += "				uses = 1\n";
	text += "				technology = basic_battlecruiser\n";
	text += "				technology = basic_battleship\n";
	text += "				technology = improved_battleship\n";
	text += "				technology = advanced_battleship\n";
	text += "				technology = heavy_battleship\n";
	text += "				technology = heavy_battleship2\n";
	text += "				technology = early_carrier\n";
	text += "				technology = basic_carrier\n";
	text += "				technology = improved_carrier\n";
	text += "				technology = advanced_carrier\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = industrial_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_production\n";
	text += "		x = 13\n";
	text += "		y = 0\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = industrial_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 1\n";
	text += "				category = industry\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 3\n";
	text += "			modifier = {\n";
	text += "				factor = 0\n";
	text += "				date < 1939.1.1\n";
	text += "				OR = { \n";
	text += "\n";
	text += "					# we also dont want tiny nations to go crazy with slots right away\n";
	text += "					num_of_controlled_states < 2\n";
	text += "				}				\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = construction_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_civ_factory\n";
	text += "		prerequisite = { focus = industrial_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 12\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 2\n";
	text += "		}\n";
	text += "\n";
	text += "		bypass = {\n";
	text += "			custom_trigger_tooltip = {\n";
	text += "				tooltip = construction_effort_tt\n";
	text += "				all_owned_state = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = industrial_complex\n";
	text += "						size < 1\n";
	text += "						include_locked = yes\n";
	text += "					}					\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			add_extra_state_shared_building_slots = 1\n";
	text += "			add_building_construction = {\n";
	text += "				type = industrial_complex\n";
	text += "				level = 1\n";
	text += "				instant_build = yes\n";
	text += "			}			\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = industrial_complex\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = industrial_complex\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = industrial_complex\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = production_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_mil_factory\n";
	text += "		prerequisite = { focus = industrial_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 14\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 2			\n";
	text += "		}\n";
	text += "\n";
	text += "		bypass = {\n";
	text += "			custom_trigger_tooltip = {\n";
	text += "				tooltip = production_effort_tt\n";
	text += "				all_owned_state = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size < 1\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			add_extra_state_shared_building_slots = 1\n";
	text += "			add_building_construction = {\n";
	text += "				type = arms_factory\n";
	text += "				level = 1\n";
	text += "				instant_build = yes\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = arms_factory\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = arms_factory\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = construction_effort_2" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_civ_factory\n";
	text += "		prerequisite = { focus = construction_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 12\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 2\n";
	text += "		}\n";
	text += "\n";
	text += "		bypass = {\n";
	text += "			custom_trigger_tooltip = {\n";
	text += "				tooltip = construction_effort_tt\n";
	text += "				all_owned_state = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = industrial_complex\n";
	text += "						size < 1\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			add_extra_state_shared_building_slots = 1\n";
	text += "			add_building_construction = {\n";
	text += "				type = industrial_complex\n";
	text += "				level = 1\n";
	text += "				instant_build = yes\n";
	text += "			}\n";
	text += "		}		\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = industrial_complex\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = industrial_complex\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = industrial_complex\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = production_effort_2" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_mil_factory\n";
	text += "		prerequisite = { focus = production_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 14\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 2\n";
	text += "		}\n";
	text += "\n";
	text += "		bypass = {\n";
	text += "			custom_trigger_tooltip = {\n";
	text += "				tooltip = production_effort_tt\n";
	text += "				all_owned_state = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size < 1\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			add_extra_state_shared_building_slots = 1\n";
	text += "			add_building_construction = {\n";
	text += "				type = arms_factory\n";
	text += "				level = 1\n";
	text += "				instant_build = yes\n";
	text += "			}\n";
	text += "		}		\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = arms_factory\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = arms_factory\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = infrastructure_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_infrastructure\n";
	text += "		prerequisite = { focus = construction_effort_2" + CreatingCountry->getTag() + " }\n";
	text += "		x = 12\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		bypass = {\n";
	text += "			custom_trigger_tooltip = {\n";
	text += "				tooltip = infrastructure_effort_tt\n";
	text += "				all_owned_state = {			\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size < 1\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			add_building_construction = {\n";
	text += "				type = infrastructure\n";
	text += "				level = 1\n";
	text += "				instant_build = yes\n";
	text += "			}\n";
	text += "			add_building_construction = {\n";
	text += "				type = infrastructure\n";
	text += "				level = 1\n";
	text += "				instant_build = yes\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_building_construction = {\n";
	text += "					type = infrastructure\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_building_construction = {\n";
	text += "					type = infrastructure\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = production_effort_3" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_mil_factory\n";
	text += "		prerequisite = { focus = production_effort_2" + CreatingCountry->getTag() + " }\n";
	text += "		x = 14\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 2\n";
	text += "		}\n";
	text += "\n";
	text += "		bypass = {\n";
	text += "			custom_trigger_tooltip = {\n";
	text += "				tooltip = production_effort_tt\n";
	text += "				all_owned_state = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size < 1\n";
	text += "						include_locked = yes\n";
	text += "					}					\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			add_extra_state_shared_building_slots = 1\n";
	text += "			add_building_construction = {\n";
	text += "				type = arms_factory\n";
	text += "				level = 1\n";
	text += "				instant_build = yes\n";
	text += "			}\n";
	text += "		}		\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = arms_factory\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = arms_factory\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = infrastructure_effort_2" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_infrastructure\n";
	text += "		prerequisite = { focus = infrastructure_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 12\n";
	text += "		y = 4\n";
	text += "		cost = 10\n";
	text += "		bypass = {\n";
	text += "			custom_trigger_tooltip = {\n";
	text += "				tooltip = infrastructure_effort_tt\n";
	text += "				all_owned_state = {			\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size < 1\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			add_building_construction = {\n";
	text += "				type = infrastructure\n";
	text += "				level = 1\n";
	text += "				instant_build = yes\n";
	text += "			}\n";
	text += "			add_building_construction = {\n";
	text += "				type = infrastructure\n";
	text += "				level = 1\n";
	text += "				instant_build = yes\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_building_construction = {\n";
	text += "					type = infrastructure\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_building_construction = {\n";
	text += "					type = infrastructure\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = construction_effort_3" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_civ_factory\n";
	text += "		prerequisite = { focus = infrastructure_effort" + CreatingCountry->getTag() + " }\n";
	text += "		x = 14\n";
	text += "		y = 4\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 2\n";
	text += "		}\n";
	text += "\n";
	text += "		bypass = {\n";
	text += "			custom_trigger_tooltip = {\n";
	text += "				tooltip = construction_effort_tt\n";
	text += "				all_owned_state = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = industrial_complex\n";
	text += "						size < 2\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		complete_tooltip = {\n";
	text += "			add_extra_state_shared_building_slots = 2\n";
	text += "			add_building_construction = {\n";
	text += "				type = industrial_complex\n";
	text += "				level = 2\n";
	text += "				instant_build = yes\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = industrial_complex\n";
	text += "						size > 1\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = industrial_complex\n";
	text += "										size > 1\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 2\n";
	text += "				add_building_construction = {\n";
	text += "					type = industrial_complex\n";
	text += "					level = 2\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = nuclear_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_focus_wonderweapons\n";
	text += "		prerequisite = { focus = infrastructure_effort_2" + CreatingCountry->getTag() + " }\n";
	text += "		x = 10\n";
	text += "		y = 5\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = nuclear_bonus\n";
	text += "				ahead_reduction = 0.5\n";
	text += "				category = nuclear\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 1\n";
	text += "			modifier = {\n";
	text += "				factor = 0.25\n";
	text += "				always = yes\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = extra_tech_slot" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_focus_research\n";
	text += "		prerequisite = { focus = infrastructure_effort_2" + CreatingCountry->getTag() + " }\n";
	text += "		x = 12\n";
	text += "		y = 5\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_research_slot = 1\n";
	text += "		}\n";
	text += "	}\n";
	text += "	\n";
	text += "	focus = {\n";
	text += "		id = extra_tech_slot_2" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_focus_research\n";
	text += "		prerequisite = { focus = extra_tech_slot" + CreatingCountry->getTag() + " }\n";
	text += "		available = {\n";
	text += "			num_of_factories > 50\n";
	text += "		}\n";
	text += "		cancel_if_invalid = no\n";
	text += "		continue_if_invalid = yes\n";
	text += "		x = 12\n";
	text += "		y = 6\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_research_slot = 1\n";
	text += "		}\n";
	text += "	}	\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = secret_weapons" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_secret_weapon\n";
	text += "		prerequisite = { focus = infrastructure_effort_2" + CreatingCountry->getTag() + " }\n";
	text += "		x = 14\n";
	text += "		y = 5\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_tech_bonus = {\n";
	text += "				name = secret_bonus\n";
	text += "				bonus = 0.5\n";
	text += "				uses = 4\n";
	text += "				category = electronics\n";
	text += "				category = nuclear\n";
	text += "				category = rocketry\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 1\n";
	text += "			modifier = {\n";
	text += "				factor = 0.25\n";
	text += "				always = yes\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = political_effort" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_demand_territory\n";
	text += "		x = 19\n";
	text += "		y = 0\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_political_power = 120\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = collectivist_ethos" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_national_unity #icon = GFX_goal_tripartite_pact\n";
	text += "		prerequisite = { focus = political_effort" + CreatingCountry->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = liberty_ethos" + CreatingCountry->getTag() + "}\n";
	text += "		available = {\n";
	text += "			OR = {\n";
	text += "				has_government = fascism\n";
	text += "				has_government = communism\n";
	text += "				has_government = neutrality\n";
	text += "			}\n";
	text += "		}\n";
	text += "		x = 18\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 5\n";
	text += "			modifier = {\n";
	text += "				factor = 0\n";
	text += "				OR = {\n";
	text += "					is_historical_focus_on = yes\n";
	text += "					has_idea = neutrality_idea\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = collectivist_ethos_focus\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = nationalism_focus" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_support_fascism #icon = GFX_goal_tripartite_pact\n";
	text += "		prerequisite = { focus = collectivist_ethos" + CreatingCountry->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = internationalism_focus" + CreatingCountry->getTag() + " }\n";
	text += "		available = {\n";
	text += "			OR = {\n";
	text += "				has_government = fascism\n";
	text += "				has_government = neutrality\n";
	text += "			}\n";
	text += "		}\n";
	text += "		x = 16\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 5\n";
	text += "			modifier = {\n";
	text += "				factor = 2\n";
	text += "				any_neighbor_country = {\n";
	text += "					is_major = yes\n";
	text += "					has_government = fascism\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = nationalism\n";
	text += "		}\n";
	text += "	}\n";
	text += "	\n";
	text += "	focus = {\n";
	text += "		id = internationalism_focus" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_support_communism #icon = GFX_goal_tripartite_pact\n";
	text += "		prerequisite = { focus = collectivist_ethos" + CreatingCountry->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = nationalism_focus" + CreatingCountry->getTag() + " }\n";
	text += "		available = {\n";
	text += "			OR = {\n";
	text += "				has_government = communism\n";
	text += "				has_government = neutrality\n";
	text += "			}\n";
	text += "		}\n";
	text += "		x = 18\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 5\n";
	text += "			modifier = {\n";
	text += "				factor = 2\n";
	text += "				any_neighbor_country = {\n";
	text += "					is_major = yes\n";
	text += "					has_government = communism\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = internationalism\n";
	text += "		}\n";
	text += "	}	\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = liberty_ethos" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_support_democracy\n";
	text += "		prerequisite = { focus = political_effort" + CreatingCountry->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = collectivist_ethos" + CreatingCountry->getTag() + " }\n";
	text += "		available = {\n";
	text += "			OR = {\n";
	text += "				has_government = democratic\n";
	text += "				has_government = neutrality\n";
	text += "			}\n";
	text += "		}\n";
	text += "		x = 20\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 95\n";
	text += "			modifier = {\n";
	text += "				factor = 0.1\n";
	text += "				any_neighbor_country = {\n";
	text += "					is_major = yes\n";
	text += "					OR = {\n";
	text += "						has_government = communism\n";
	text += "						has_government = fascism\n";
	text += "					}\n";
	text += "				}\n";
	text += "				NOT = {\n";
	text += "					any_neighbor_country = {\n";
	text += "						is_major = yes\n";
	text += "						has_government = democratic\n";
	text += "					}\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = liberty_ethos_focus\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = militarism" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_political_pressure\n";
	text += "		prerequisite = { focus = nationalism_focus" + CreatingCountry->getTag() + " }\n";
	text += "		x = 16\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			if = {\n";
	text += "				limit = { has_idea = neutrality_idea }\n";
	text += "				remove_ideas = neutrality_idea\n";
	text += "			}			\n";
	text += "			add_ideas = militarism_focus\n";
	text += "			army_experience = 20\n";
	text += "			set_rule = { can_send_volunteers = yes }\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = political_correctness" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_dangerous_deal\n";
	text += "		prerequisite = { focus = internationalism_focus" + CreatingCountry->getTag() + " }\n";
	text += "		x = 18\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			if = {\n";
	text += "				limit = { has_idea = neutrality_idea }\n";
	text += "				remove_ideas = neutrality_idea\n";
	text += "			}		\n";
	text += "			add_political_power = 200\n";
	text += "			add_ideas = idea_political_correctness\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = neutrality_focus" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_neutrality_focus\n";
	text += "		prerequisite = { focus = liberty_ethos" + CreatingCountry->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = interventionism_focus" + CreatingCountry->getTag() + " }\n";
	text += "		x = 20\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			if = {\n";
	text += "				limit = { NOT = { has_idea = neutrality_idea } }\n";
	text += "				add_ideas = neutrality_idea\n";
	text += "			}\n";
	text += "			add_political_power = 150\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = interventionism_focus" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_political_pressure\n";
	text += "		prerequisite = { focus = liberty_ethos" + CreatingCountry->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = neutrality_focus" + CreatingCountry->getTag() + " }\n";
	text += "		x = 22\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 1\n";
	text += "			modifier = {\n";
	text += "				factor = 0\n";
	text += "				has_idea = neutrality_idea\n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		completion_reward = {\n";
	text += "			if = {\n";
	text += "				limit = { has_idea = neutrality_idea }\n";
	text += "				remove_ideas = neutrality_idea\n";
	text += "			}	\n";
	text += "			set_rule = { can_send_volunteers = yes }\n";
	text += "			add_political_power = 150\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = military_youth" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_more_territorial_claims\n";
	text += "		prerequisite = { focus = militarism" + CreatingCountry->getTag() + " }\n";
	text += "		x = 16\n";
	text += "		y = 4\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = military_youth_focus\n";
	text += "			if = {\n";
	text += "				limit = { has_government = fascism }\n";
	text += "				add_popularity = {\n";
	text += "					ideology = fascism\n";
	text += "					popularity = 0.2\n";
	text += "				}\n";
	text += "			}\n";
	text += "			if = {\n";
	text += "				limit = { has_government = communism }\n";
	text += "				add_popularity = {\n";
	text += "					ideology = communism\n";
	text += "					popularity = 0.2\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = deterrence" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_defence\n";
	text += "		prerequisite = { focus = neutrality_focus" + CreatingCountry->getTag() + " }\n";
	text += "		x = 20\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = deterrence\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = volunteer_corps" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_allies_build_infantry\n";
	text += "		prerequisite = { focus = interventionism_focus" + CreatingCountry->getTag() + " }\n";
	text += "		x = 22\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = volunteer_corps_focus\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = paramilitarism" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_military_sphere\n";
	text += "		prerequisite = { focus = military_youth" + CreatingCountry->getTag() + " }\n";
	text += "		x = 16\n";
	text += "		y = 5\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = paramilitarism_focus\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = indoctrination_focus" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_propaganda\n";
	text += "		prerequisite = { focus = political_correctness" + CreatingCountry->getTag() + " }\n";
	text += "		x = 18\n";
	text += "		y = 4\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = indoctrination_focus\n";
	text += "			add_political_power = 150\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = foreign_expeditions" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_more_territorial_claims\n";
	text += "		prerequisite = { focus = volunteer_corps" + CreatingCountry->getTag() + " }\n";
	text += "		x = 22\n";
	text += "		y = 4\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = foreign_expeditions_focus\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = why_we_fight" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_propaganda\n";
	text += "		prerequisite = { focus = foreign_expeditions focus = deterrence" + CreatingCountry->getTag() + " }\n";
	text += "		available = { \n";
	text += "			OR = { \n";
	text += "				threat > 0.75 \n";
	text += "				has_defensive_war = yes \n";
	text += "			}\n";
	text += "		}\n";
	text += "\n";
	text += "		continue_if_invalid = yes\n";
	text += "		\n";
	text += "		x = 20\n";
	text += "		y = 5\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			if = {\n";
	text += "				limit = { NOT = { has_idea = neutrality_idea } }\n";
	text += "				set_rule = { can_create_factions = yes }\n";
	text += "			}\n";
	text += "			add_ideas = why_we_fight_focus\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = political_commissars" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_forceful_treaty\n";
	text += "		prerequisite = { focus = indoctrination_focus" + CreatingCountry->getTag() + " }\n";
	text += "		available = {\n";
	text += "		}\n";
	text += "		x = 18\n";
	text += "		y = 5\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = political_commissars_focus\n";
	text += "			if = {\n";
	text += "				limit = { has_government = fascism }\n";
	text += "				add_popularity = {\n";
	text += "					ideology = fascism\n";
	text += "					popularity = 0.2\n";
	text += "				}\n";
	text += "			}\n";
	text += "			if = {\n";
	text += "				limit = { has_government = communism }\n";
	text += "				add_popularity = {\n";
	text += "					ideology = communism\n";
	text += "					popularity = 0.2\n";
	text += "				}\n";
	text += "			}\n";
	text += "			add_political_power = 200\n";
	text += "		}\n";
	text += "	}\n";
	text += "\n";
	text += "	focus = {\n";
	text += "		id = ideological_fanaticism" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_demand_territory\n";
	text += "		prerequisite = { focus = paramilitarism" + CreatingCountry->getTag() + " focus = political_commissars" + CreatingCountry->getTag() + " }\n";
	text += "		x = 17\n";
	text += "		y = 6\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = ideological_fanaticism_focus\n";
	text += "			set_rule = {\n";
	text += "				can_create_factions = yes\n";
	text += "			}\n";
	text += "			hidden_effect = {\n";
	text += "				set_rule = { can_use_kamikaze_pilots = yes }\n";
	text += "			}\n";
	text += "			custom_effect_tooltip = kamikaze_focus_tooltip\n";
	text += "		}\n";
	text += "	}\n";
	text += "	\n";
	text += "	focus = {\n";
	text += "		id = technology_sharing" + CreatingCountry->getTag() + "\n";
	text += "		icon = GFX_goal_generic_scientific_exchange\n";
	text += "		prerequisite = { focus = ideological_fanaticism" + CreatingCountry->getTag() + " focus = why_we_fight" + CreatingCountry->getTag() + " }\n";
	text += "		available = {\n";
	text += "			has_war = yes\n";
	text += "			is_in_faction = yes\n";
	text += "			OR = {\n";
	text += "				num_of_factories > 50\n";
	text += "				any_country = {\n";
	text += "					is_in_faction_with = ROOT\n";
	text += "					num_of_factories > 50\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}		\n";
	text += "		x = 19\n";
	text += "		y = 7\n";
	text += "		cost = 10\n";
	text += "		completion_reward = {\n";
	text += "			if = {\n";
	text += "				limit = {\n";
	text += "					original_research_slots < 3\n";
	text += "				}\n";
	text += "				add_research_slot = 1\n";
	text += "			}\n";
	text += "			if = {\n";
	text += "				limit = {\n";
	text += "					original_research_slots > 2\n";
	text += "				}\n";
	text += "				add_tech_bonus = {\n";
	text += "					name = electronics_bonus\n";
	text += "					bonus = 0.5\n";
	text += "					uses = 1\n";
	text += "					category = electronics\n";
	text += "				}\n";
	text += "				add_tech_bonus = {\n";
	text += "					name = industrial_bonus\n";
	text += "					bonus = 0.5\n";
	text += "					uses = 1\n";
	text += "					category = industry\n";
	text += "				}	\n";
	text += "				add_tech_bonus = {\n";
	text += "					name = infantry_weapons_bonus\n";
	text += "					bonus = 0.5\n";
	text += "					uses = 1\n";
	text += "					category = infantry_weapons\n";
	text += "					category = artillery\n";
	text += "				}				\n";
	text += "			}			\n";
	text += "		}\n";
	text += "	}	\n";
	text += "\n";
}


void HoI4FocusTree::addDemocracyNationalFocuses(HoI4Country* Home, vector<HoI4Country*> CountriesToContain, int XStart)
{
	double WTModifier = 1;
	if (Home->getGovernment() == "democratic")
	{
		string warPol = Home->getRulingParty().war_pol;
		if (warPol == "jingoism")
			WTModifier = 0;
		if (warPol == "pro_military")
			WTModifier = 0.25;
		if (warPol == "anti_military")
			WTModifier = 0.5;
	}
	if (Home->getGovernment() == "hms_government")
	{
		string warPol = Home->getRulingParty().war_pol;
		if (warPol == "jingoism")
			WTModifier = 0;
		if (warPol == "pro_military")
			WTModifier = 0;
		if (warPol == "anti_military")
			WTModifier = 0.25;
		if (warPol == "pacifism" || warPol == "pacifist")
			WTModifier = 0.5;
	}
	//War Propoganda
	text += "		focus = { \n";
	text += "		id = WarProp" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_propaganda\n";
	text += "		text = \"War Propoganda\"\n";
	text += "		available = {\n";
	text += "			threat > " + to_string(0.2*WTModifier) + "\n";
	text += "		}\n";
	text += "		\n";
	text += "		x =  " + to_string(XStart) + "\n";
	text += "		y = 0\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = militarism_focus\n";
	text += "		}\n";
	text += "	}";

	//Prepare Intervention
	text += "		focus = { \n";
	text += "		id = PrepInter" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_occupy_states_ongoing_war\n";
	text += "		text = \"War Propoganda\"\n";
	text += "		prerequisite = { focus = WarProp" + Home->getTag() + "}\n";
	text += "		available = {\n";
	text += "			threat > " + to_string(0.4 * WTModifier) + "\n";
	text += "		}\n";
	text += "		\n";
	text += "		x =  " + to_string(XStart) + "\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			set_rule = { can_send_volunteers = yes }\n";
	text += "		}\n";
	text += "	}";

	int offBalance = 0;
	if (CountriesToContain.size() >= 2)
		offBalance = -3;
	if (CountriesToContain.size() == 1)
		offBalance = -2;
	//Limited Intervention
	text += "		focus = { \n";
	text += "		id = Lim" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_more_territorial_claims\n";
	text += "		text = \"Limited Intervention\"\n";
	text += "		prerequisite = { focus = PrepInter" + Home->getTag() + "}\n";
	text += "		available = {\n";
	text += "			threat > " + to_string(0.8 * WTModifier) + "\n";
	text += "		}\n";
	text += "		\n";
	text += "		x =  " + to_string(XStart + offBalance) + "\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = limited_interventionism\n";
	text += "			set_rule = { can_send_volunteers = yes }\n";
	text += "		}\n";
	text += "	}";

	int warPlannumber = 1;
	//for (auto Country : CountriesToContain)

	for (int i = CountriesToContain.size() - 1; i >= 0; i--)
	{
		HoI4Country* Country = CountriesToContain[i];
		//War Plan
		text += "		focus = { \n";
		text += "		id = WarPlan" + Home->getTag() + Country->getTag() + "\n";
		text += "		icon = GFX_goal_generic_position_armies\n";
		text += "		text = \"War Plan " + Country->getSourceCountry()->getName("english") + "\"\n";
		text += "		prerequisite = { focus = PrepInter" + Home->getTag() + "}\n";
		text += "		available = {\n";
		text += "			" + Country->getTag() + " = { is_in_faction_with = " + Home->getTag() + " }\n";
		text += "			" + Country->getTag() + " = { has_added_tension_amount > 30 }\n";
		text += "		}\n";
		text += "		\n";
		text += "		x =  " + to_string(XStart + offBalance + warPlannumber * 2) + "\n";
		text += "		y = 2\n";
		text += "		cost = 10\n";
		text += "		ai_will_do = {\n";
		text += "			factor = 10\n";
		text += "		}	\n";
		text += "		completion_reward = {\n";
		text += "			army_experience = 20\n";
		text += "			add_tech_bonus = {\n";
		text += "				name = land_doc_bonus\n";
		text += "				bonus = 0.5\n";
		text += "				uses = 1\n";
		text += "				category = land_doctrine\n";
		text += "			}\n";
		text += "		}\n";
		text += "	}";

		//Embargo
		text += "		focus = { \n";
		text += "		id = Embargo" + Home->getTag() + Country->getTag() + "\n";
		text += "		icon = GFX_goal_generic_trade\n";
		text += "		text = \"Embargo " + Country->getSourceCountry()->getName("english") + "\"\n";
		text += "		prerequisite = { focus =  WarPlan" + Home->getTag() + Country->getTag() + "}\n";
		text += "		available = {\n";
		text += "			" + Country->getTag() + " = { is_in_faction_with = " + Home->getTag() + " }\n";
		text += "			" + Country->getTag() + " = { has_added_tension_amount > 30 }\n";
		text += "		}\n";
		text += "		\n";
		text += "		x =  " + to_string(XStart + offBalance + warPlannumber * 2) + "\n";
		text += "		y = 3\n";
		text += "		cost = 10\n";
		text += "		ai_will_do = {\n";
		text += "			factor = 10\n";
		text += "		}	\n";
		text += "		completion_reward = {\n";
		text += "			" + Country->getTag() + " = {\n";
		text += "			add_opinion_modifier = { target = " + Home->getTag() + " modifier = embargo }\n}\n";
		text += "		}\n";
		text += "	}";

		//WAR
		text += "		focus = { \n";
		text += "		id = WAR" + Home->getTag() + Country->getTag() + "\n";
		text += "		icon = GFX_goal_support_democracy\n";
		text += "		text = \"Enact War Plan " + Country->getSourceCountry()->getName("english") + "\"\n";
		text += "		available = {\n";
		text += "			" + Country->getTag() + " = { is_in_faction_with = " + Home->getTag() + " }\n";
		text += "		}\n";
		text += "		prerequisite = { focus =  Embargo" + Home->getTag() + Country->getTag() + " }\n";
		text += "		prerequisite = { focus =  Lim" + Home->getTag() + " }\n";
		text += "		x =  " + to_string(XStart + offBalance + warPlannumber++ * 2) + "\n";
		text += "		y =4\n";
		text += "		cost = 10\n";
		text += "		ai_will_do = {\n";
		text += "			factor = 10\n";
		text += "		}	\n";
		text += "		completion_reward = {\n";
		text += "			create_wargoal = {\n";
		text += "				type = puppet_wargoal_focus\n";
		text += "				target = " + Country->getTag() + "\n";
		text += "			}";
		text += "		}\n";
		text += "	}";
	}
}


void HoI4FocusTree::addMonarchyEmpireNationalFocuses(HoI4Country* Home, HoI4Country* Annexed1, HoI4Country* Annexed2, HoI4Country* Annexed3, HoI4Country* Annexed4, int ProtectorateNumber, int AnnexNumber, int x)
{
	//Glory to Empire!
	text += "		focus = { \n";
	text += "		id = EmpireGlory" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_anschluss\n";
	text += "		text = \"Glory to the Empire!\"\n";
	text += "		available = {\n";
	//text += "			is_puppet = no\n";
	text += "		}\n";
	text += "		\n";
	text += "		x =  29\n";
	text += "		y = 0\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "				factor = 0\n";
	text += "				date < 1937.6.6\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			add_national_unity = 0.1\n";
	text += "		}\n";
	text += "	}";

	//Colonies Focus
	text += "		focus = { \n";
	text += "		id = StrengthenColonies" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_position_armies\n";
	text += "		text = \"Strengthen the Colonies\"\n";
	text += "		prerequisite = { focus = EmpireGlory" + Home->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = StrengthenHome" + Home->getTag() + " }\n";
	text += "		x =  28\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 0\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			navy_experience = 25\n";
	text += "		}\n";
	text += "	}";
	//Home Focus
	text += "		focus = { \n";
	text += "		id = StrengthenHome" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_national_unity\n";
	text += "		text = \"Strengthen Home\"\n";
	text += "		prerequisite = { focus = EmpireGlory" + Home->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = StrengthenColonies" + Home->getTag() + " }\n";
	text += "		x =  30\n";
	text += "		y = 1\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			army_experience = 25\n";
	text += "		}\n";
	text += "	}";

	//Colonial Factories
	text += "		focus = { \n";
	text += "		id = ColonialInd" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_civ_factory\n";
	text += "		text = \"Colonial Industry Buildup\"\n";
	text += "		prerequisite = { focus = StrengthenColonies" + Home->getTag() + " }\n";
	text += "		x =  26\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = no\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = industrial_complex\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = no\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = arms_factory\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = no\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = industrial_complex\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = no\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = arms_factory\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = no\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = industrial_complex\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = no\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = arms_factory\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}";

	//Colonial Highway
	text += "		focus = { \n";
	text += "		id = ColonialHwy" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_infrastructure\n";
	text += "		text = \"Colonial Highway\"\n";
	text += "		prerequisite = { focus = ColonialInd" + Home->getTag() + " }\n";
	text += "		x =  24\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = no\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = no\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = infrastructure\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = no\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = no\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = infrastructure\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = no\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = no\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = infrastructure\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}";

	//improve resources
	text += "		focus = { \n";
	text += "		id = ResourceFac" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_oil_refinery\n";
	text += "		text = \"Improve Resource Factories\"\n";
	text += "		prerequisite = { focus = ColonialInd" + Home->getTag() + " }\n";
	text += "		mutually_exclusive = { focus = StrengthenColonies" + Home->getTag() + " }\n";
	text += "		x =  26\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = improved_resource_industry\n";
	text += "		}\n";
	text += "	}";

	//establish colonial army
	text += "		focus = { \n";
	text += "		id = ColonialArmy" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_allies_build_infantry\n";
	text += "		text = \"Establish Colonial Army\"\n";
	text += "		prerequisite = { focus = StrengthenColonies" + Home->getTag() + " }\n";
	text += "		x =  28\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = militarism_focus\n";
	text += "		}\n";
	text += "	}";

	//establish protectorate
	if (ProtectorateNumber >= 1)
	{
		text += "focus = {\n";
		text += "		id = Protectorate" + Home->getTag() + Annexed1->getTag() + "\n";
		text += "		icon = GFX_goal_generic_major_war\n";
		text += "		text = \"Establish Protectorate over " + Annexed1->getSourceCountry()->getName("english") + "\"\n";
		text += "		available = { " + Annexed1->getTag() + " = { is_in_faction = no } }\n";
		text += "		prerequisite = { focus = ColonialArmy" + Home->getTag() + " }\n";
		text += "		x = 28\n";
		text += "		y = 3\n";
		text += "		cost = 10\n";
		text += "		bypass = { \n";
		text += "			\n";
		text += "			OR = {\n";
		text += "				" + Home->getTag() + " = { is_in_faction_with = " + Annexed1->getTag() + "\n";
		text += "				has_war_with = " + Annexed1->getTag() + "}\n";
		text += "				NOT = { country_exists = " + Annexed1->getTag() + " }\n";
		text += "			}\n";
		text += "		}\n";
		text += "		ai_will_do = {\n";
		text += "			factor = 10\n";
		text += "			modifier = {\n";
		text += "			factor = 0\n";
		text += "			strength_ratio = { tag = " + Annexed1->getTag() + " ratio < 1 }\n";
		text += "			}";
		text += "		}	\n";
		text += "		completion_reward = {\n";
		text += "			create_wargoal = {\n";
		text += "				type = annex_everything\n";
		text += "				target = " + Annexed1->getTag() + "\n";
		text += "			}";
		text += "		}\n";
		text += "	}\n";
	}
	if (ProtectorateNumber >= 2)
	{
		text += "focus = {\n";
		text += "		id = Protectorate" + Home->getTag() + Annexed2->getTag() + "\n";
		text += "		icon = GFX_goal_generic_major_war\n";
		text += "		text = \"Establish Protectorate over " + Annexed2->getSourceCountry()->getName("english") + "\"\n";
		text += "		available = { " + Annexed2->getTag() + " = { is_in_faction = no } }\n";
		text += "		prerequisite = { focus = Protectorate" + Home->getTag() + Annexed1->getTag() + " }\n";
		text += "		x = 28\n";
		text += "		y = 4\n";
		text += "		cost = 10\n";
		text += "		bypass = { \n";
		text += "			\n";
		text += "			OR = {\n";
		text += "				" + Home->getTag() + " = { is_in_faction_with = " + Annexed1->getTag() + "\n";
		text += "				has_war_with = " + Annexed1->getTag() + "}\n";
		text += "				NOT = { country_exists = " + Annexed1->getTag() + " }\n";
		text += "			}\n";
		text += "		}\n";
		text += "		ai_will_do = {\n";
		text += "			factor = 5\n";
		text += "			modifier = {\n";
		text += "			factor = 0\n";
		text += "			strength_ratio = { tag = " + Annexed2->getTag() + " ratio < 1 }\n";
		text += "			}";
		text += "		}	\n";
		text += "		completion_reward = {\n";
		text += "			create_wargoal = {\n";
		text += "				type = annex_everything\n";
		text += "				target = " + Annexed2->getTag() + "\n";
		text += "			}";
		text += "		}\n";
		text += "	}\n";
	}

	//Trade Empire
	text += "		focus = { \n";
	text += "		id = TradeEmpire" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_anschluss\n";
	text += "		text = \"Fund the " + Home->getSourceCountry()->getAdjective("english") + " Colonial Trade Corporation\"\n";
	text += "		prerequisite = { focus = ColonialHwy" + Home->getTag() + " focus = ResourceFac" + Home->getTag() + " }\n";
	text += "		x =  25\n";
	text += "		y = 4\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = established_traders";
	text += "			set_country_flag = established_traders";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = no\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = no\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 2\n";
	text += "				add_building_construction = {\n";
	text += "					type = dockyard\n";
	text += "					level = 2\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}";

	//Home Industry Buildup
	text += "		focus = { \n";
	text += "		id = IndHome" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_production\n";
	text += "		text = \"Fund Industrial Improvement\"\n";
	text += "		prerequisite = { focus = StrengthenHome" + Home->getTag() + " }\n";
	text += "		x =  31\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	//add tech
	//text += "			research_time_factor = -0.1\n";
	text += "		}\n";
	text += "	}";

	//National Highway
	text += "		focus = { \n";
	text += "		id = NationalHwy" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_infrastructure\n";
	text += "		text = \"National Highway\"\n";
	text += "		prerequisite = { focus = IndHome" + Home->getTag() + " }\n";
	text += "		x =  30\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = infrastructure\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = infrastructure\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = infrastructure\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = infrastructure\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = infrastructure\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}";

	//National College
	text += "		focus = { \n";
	text += "		id = NatCollege" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_anschluss\n";
	text += "		text = \"Establish National College\"\n";
	text += "		prerequisite = { focus = IndHome" + Home->getTag() + " }\n";
	text += "		x =  32\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = national_college\n";
	text += "		}\n";
	text += "	}";

	//Improve Factories
	text += "		focus = { \n";
	text += "		id = MilitaryBuildup" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_construct_mil_factory\n";
	text += "		text = \"Military Buildup\"\n";
	text += "		prerequisite = { focus = NatCollege" + Home->getTag() + " }\n";
	text += "		prerequisite = { focus = NationalHwy" + Home->getTag() + " }\n";
	text += "		x =  31\n";
	text += "		y = 4\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = arms_factory\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = arms_factory\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = arms_factory\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = arms_factory\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "		completion_reward = {\n";
	text += "			random_owned_state = {\n";
	text += "				limit = {\n";
	text += "					free_building_slots = {\n";
	text += "						building = arms_factory\n";
	text += "						size > 0\n";
	text += "						include_locked = yes\n";
	text += "					}\n";
	text += "					OR = {\n";
	text += "						is_in_home_area = yes\n";
	text += "						NOT = {\n";
	text += "							owner = {\n";
	text += "								any_owned_state = {\n";
	text += "									free_building_slots = {\n";
	text += "										building = arms_factory\n";
	text += "										size > 0\n";
	text += "										include_locked = yes\n";
	text += "									}\n";
	text += "									is_in_home_area = yes\n";
	text += "								}\n";
	text += "							}\n";
	text += "						}\n";
	text += "					}\n";
	text += "				}\n";
	text += "				add_extra_state_shared_building_slots = 1\n";
	text += "				add_building_construction = {\n";
	text += "					type = arms_factory\n";
	text += "					level = 1\n";
	text += "					instant_build = yes\n";
	text += "				}\n";
	text += "			}\n";
	text += "		}\n";
	text += "	}";

	//PrepBorder
	text += "		focus = { \n";
	text += "		id = PrepTheBorder" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_defence\n";
	text += "		text = \"Prepare the Border\"\n";
	text += "		prerequisite = { focus = StrengthenHome" + Home->getTag() + " }\n";
	text += "		x =  34\n";
	text += "		y = 2\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = border_buildup\n";
	text += "		}\n";
	text += "	}";

	//Promote Nationalistic Spirit
	text += "		focus = { \n";
	text += "		id = NatSpirit" + Home->getTag() + "\n";
	text += "		icon = GFX_goal_generic_political_pressure\n";
	text += "		text = \"Promote Nationalistic Spirit\"\n";
	text += "		prerequisite = { focus = PrepTheBorder" + Home->getTag() + " }\n";
	text += "		x =  34\n";
	text += "		y = 3\n";
	text += "		cost = 10\n";
	text += "		ai_will_do = {\n";
	text += "			factor = 10\n";
	text += "			modifier = {\n";
	text += "			}\n";
	text += "		}	\n";
	text += "		completion_reward = {\n";
	text += "			add_ideas = paramilitarism_focus\n";
	text += "		}\n";
	text += "	}";

	//ANNEX
	if (AnnexNumber >= 1)
	{
		text += "focus = {\n";
		text += "		id = Annex" + Home->getTag() + Annexed3->getTag() + "\n";
		text += "		icon = GFX_goal_generic_major_war\n";
		text += "		text = \"Conquer " + Annexed3->getSourceCountry()->getName("english") + "\"\n";
		text += "		available = { " + Annexed3->getTag() + " = { is_in_faction = no } }\n";
		text += "		prerequisite = { focus = PrepTheBorder" + Home->getTag() + " }\n";
		text += "		x = 36\n";
		text += "		y = 3\n";
		text += "		cost = 10\n";
		text += "		bypass = { \n";
		text += "			\n";
		text += "			OR = {\n";
		text += "				" + Home->getTag() + " = { is_in_faction_with = " + Annexed1->getTag() + "\n";
		text += "				has_war_with = " + Annexed1->getTag() + "}\n";
		text += "				NOT = { country_exists = " + Annexed1->getTag() + " }\n";
		text += "			}\n";
		text += "		}\n";
		text += "		ai_will_do = {\n";
		text += "			factor = 5\n";
		text += "			modifier = {\n";
		text += "			factor = 0\n";
		text += "			strength_ratio = { tag = " + Annexed3->getTag() + " ratio < 1 }\n";
		text += "			}";
		text += "		}	\n";
		text += "		completion_reward = {\n";
		text += "			create_wargoal = {\n";
		text += "				type = annex_everything\n";
		text += "				target = " + Annexed3->getTag() + "\n";
		text += "			}";
		text += "		}\n";
		text += "	}\n";
	}
	if (AnnexNumber >= 2)
	{
		text += "focus = {\n";
		text += "		id = Annex" + Home->getTag() + Annexed4->getTag() + "\n";
		text += "		icon = GFX_goal_generic_major_war\n";
		text += "		text = \"Conquer " + Annexed4->getSourceCountry()->getName("english") + "\"\n";
		text += "		available = { " + Annexed4->getTag() + " = { is_in_faction = no } }\n";
		text += "		prerequisite = { focus = NatSpirit" + Home->getTag() + " }\n";
		text += "		x = 34\n";
		text += "		y = 4\n";
		text += "		cost = 10\n";
		text += "		bypass = { \n";
		text += "			\n";
		text += "			OR = {\n";
		text += "				" + Home->getTag() + " = { is_in_faction_with = " + Annexed1->getTag() + "\n";
		text += "				has_war_with = " + Annexed1->getTag() + "}\n";
		text += "				NOT = { country_exists = " + Annexed1->getTag() + " }\n";
		text += "			}\n";
		text += "		}\n";
		text += "		ai_will_do = {\n";
		text += "			factor = 5\n";
		text += "			modifier = {\n";
		text += "			factor = 0\n";
		text += "			strength_ratio = { tag = " + Annexed4->getTag() + " ratio < 1 }\n";
		text += "			}";
		text += "		}	\n";
		text += "		completion_reward = {\n";
		text += "			create_wargoal = {\n";
		text += "				type = annex_everything\n";
		text += "				target = " + Annexed4->getTag() + "\n";
		text += "			}";
		text += "		}\n";
		text += "	}\n";
	}
}


void HoI4FocusTree::output()
{
	string filename("Output/" + Configuration::getOutputName() + "/common/national_focus/" + srcCountryTag + "_NF.txt");
	ofstream out(filename);
	if (!out.is_open())
	{
		LOG(LogLevel::Error) << "Could not create " << filename;
		exit(-1);
	}

	out << text;

	out.close();
}